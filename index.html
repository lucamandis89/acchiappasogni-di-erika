<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Acchiappasogni di Erika</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">âœ¨</div>
      <div>
        <div class="brandName" id="brandName">Acchiappasogni di Erika</div>
        <div class="brandSub">Catalogo â€¢ Ordina su WhatsApp</div>
      </div>
    </div>

    <div class="topActions">
      <button class="btn pill primary" id="btnDesigner">ğŸŒ™ CREA IL TUO ACCHIAPPASOGNI</button>
      <button class="btn pill" id="btnAdmin">âš™ï¸ Impostazioni</button>

      <button class="btn pill" id="btnCart">
        ğŸ›’ Carrello <span class="badge" id="cartCount">0</span>
      </button>
    </div>
  </header>

  <main class="container">
    <div class="searchRow">
      <input id="search" class="search" placeholder="Cerca (nome o descrizione)..." />
    </div>

    <div id="tabs" class="tabs"></div>

    <section id="grid" class="grid"></section>

    <div class="customRow">
      <button class="btn big" id="btnCustom">ğŸ’¬ Contattaci su WhatsApp (personalizzato)</button>
    </div>
  </main>

  <!-- CART DRAWER -->
  <div id="drawerBackdrop" class="backdrop hidden"></div>
  <aside id="drawer" class="drawer hidden">
    <div class="drawerHead">
      <div class="drawerTitle">ğŸ›’ Carrello</div>
      <button class="btn pill" id="btnCloseCart">Chiudi</button>
    </div>

    <div id="cartItems" class="cartItems"></div>

    <div class="totals">
      <div class="row2"><span>Subtotale</span><b id="subtotal">â‚¬ 0,00</b></div>
      <div class="row2"><span>Spedizione</span><b id="shipping">â‚¬ 0,00</b></div>
      <div class="hint" id="shippingHint"></div>
      <div class="row2 total"><span>Totale</span><b id="total">â‚¬ 0,00</b></div>
    </div>

    <div class="deliveryBox">
      <div class="deliveryTitle">Consegna</div>
      <label class="radio">
        <input type="radio" name="delivery" value="shipping" checked />
        <span>Spedizione</span>
      </label>
      <label class="radio">
        <input type="radio" name="delivery" value="pickup" />
        <span>Ritiro / a mano</span>
      </label>
    </div>

    <div class="form">
      <input id="name" placeholder="Nome" />
      <div id="shippingFields">
        <input id="street" placeholder="Indirizzo" />
        <div class="row">
          <input id="cap" placeholder="CAP" />
          <input id="city" placeholder="CittÃ " />
        </div>
      </div>
      <textarea id="notes" rows="3" placeholder="Note (facoltative)"></textarea>
    </div>

    <div class="drawerActions">
      <button class="btn big primary" id="btnSend">ğŸ“© Invia ordine su WhatsApp</button>
      <button class="btn big danger" id="btnClear">ğŸ§¹ Svuota carrello</button>
    </div>
  </aside>

  <!-- DESIGNER MODAL -->
  <div id="designerBackdrop" class="backdrop hidden"></div>
  <div id="designerModal" class="modal hidden">
    <div class="modalHead">
      <div class="modalTitle">ğŸŒ™ Personalizza il tuo Acchiappasogni</div>
      <button class="btn pill" id="btnCloseDesigner">Chiudi</button>
    </div>

    <div class="modalBody">
      <div class="presetRow">
        <div class="sectionTitle">Idee giÃ  composte (modificabili)</div>
        <div class="chips">
          <button class="chip" id="presetBase">Classico</button>
          <button class="chip" id="presetPhoto">Stile foto (scritta + AA)</button>
          <button class="chip" id="presetMarriage">Matrimonio</button>
          <button class="chip" id="presetBaptism">Battesimo</button>
          <button class="chip" id="presetCresima">Cresima</button>
          <button class="chip" id="presetLaurea">Laurea</button>
          <button class="chip" id="presetBaby">Nascita</button>
          <button class="chip" id="presetFantasy">Fantasy</button>
        </div>
      </div>

      <div class="toolRow">
        <div class="sectionTitle">Strumenti (tocca e poi tocca lâ€™anteprima per aggiungere)</div>
        <div class="chips">
          <button class="chip" id="toolBead">Perlina</button>
          <button class="chip" id="toolGlitter">Brillantino</button>
          <button class="chip" id="toolHeart">â¤ï¸</button>
          <button class="chip" id="toolRings">ğŸ’</button>
          <button class="chip" id="toolBouquet">ğŸ’</button>
          <button class="chip" id="toolRose">ğŸŒ¹</button>
          <button class="chip" id="toolCrown">ğŸ‘‘</button>
          <button class="chip" id="toolAngel">ğŸ‘¼</button>
          <button class="chip" id="toolDove">ğŸ•Šï¸</button>
          <button class="chip" id="toolBaby">ğŸ‘¶</button>
          <button class="chip" id="toolRibbon">ğŸ€</button>
          <button class="chip" id="toolCross">âœï¸</button>
          <button class="chip" id="toolMoon">ğŸŒ™</button>
          <button class="chip" id="toolStar">â­</button>
          <button class="chip" id="toolButterfly">ğŸ¦‹</button>
          <button class="chip" id="toolFlower">ğŸŒ¸</button>
          <button class="chip" id="toolSparkle">âœ¨</button>
          <button class="chip" id="toolLetter">Lettera</button>
          <button class="chip" id="toolNumber">Numero</button>
          <button class="chip" id="toolPhoto">ğŸ“· Foto</button>
          <button class="chip danger" id="toolUndo">Annulla</button>
          <button class="chip danger" id="toolClearAll">Pulisci</button>
        </div>
        <div class="hint">Consiglio: seleziona uno strumento e poi tocca sullâ€™immagine per piazzarlo.</div>
      </div>

      <div class="canvasWrap">
        <div class="sectionTitle">Anteprima</div>
        <canvas id="designerCanvas" class="canvas" width="800" height="520"></canvas>
      </div>

      <div class="configWrap">
        <div class="sectionTitle">Componenti e variabili</div>

        <div class="grid2">
          <label>Diametro (cm)
            <input id="optDiameter" type="range" min="12" max="60" value="35" />
          </label>

          <label>Numero piume
            <input id="optFeathers" type="range" min="1" max="9" value="3" />
          </label>

          <label>Lunghezza piume
            <input id="optFeatherLen" type="range" min="40" max="140" value="95" />
          </label>

          <label>Spessore cerchi
            <input id="optRingWidth" type="range" min="2" max="12" value="5" />
          </label>

          <label>Numero cerchi
            <input id="optRingCount" type="range" min="1" max="10" value="2" />
          </label>

          <label>Distanza tra cerchi
            <input id="optRingGap" type="range" min="4" max="40" value="18" />
          </label>

          <label>DensitÃ  rete
            <input id="optWebDensity" type="range" min="8" max="28" value="14" />
          </label>
        </div>

        <div class="colors">
          <label>Colore cerchi <input id="colRings" type="color" value="#222222" /></label>
          <label>Colore rete <input id="colWeb" type="color" value="#222222" /></label>
          <label>Colore piume <input id="colFeathers" type="color" value="#333333" /></label>
          <label>Colore perline <input id="colBeads" type="color" value="#b50000" /></label>
          <label>Colore scritta <input id="colText" type="color" value="#b50000" /></label>
        </div>

        <div class="checks">
          <label class="check"><input id="optBeadsOn" type="checkbox" checked /> Perline</label>
          <label>QuantitÃ  perline <input id="optBeadsQty" type="range" min="0" max="40" value="10" /></label>
          <label class="check"><input id="optGlitter" type="checkbox" /> Brillantini</label>
        </div>

        <div class="row">
          <label class="grow">Scritta sopra
            <input id="optTextTop" placeholder="Es: REAL HASTA LA MUERTE" />
          </label>

          <label>Simbolo
            <select id="optSymbol">
              <option value="none">Nessuno</option>
              <option value="AA">AA</option>
              <option value="heart">Cuore</option>
              <option value="moon">Luna</option>
              <option value="star">Stella</option>
              <option value="cross">Croce</option>
            </select>
          </label>
        </div>

        <div class="row">
          <label class="check"><input id="optCharms" type="checkbox" checked /> Charms laterali</label>
          <label>Dimensione charms <input id="optCharmSize" type="range" min="18" max="60" value="34" /></label>
        </div>

        <div class="sectionTitle">Bomboniere / Evento (facoltativo)</div>
        <div class="row">
          <select id="eventType">
            <option value="">(nessuno)</option>
            <option value="Matrimonio">Matrimonio</option>
            <option value="Battesimo">Battesimo</option>
            <option value="Cresima">Cresima</option>
            <option value="Laurea">Laurea</option>
            <option value="Nascita">Nascita</option>
            <option value="Altro">Altro</option>
          </select>
          <input id="eventQty" placeholder="QuantitÃ  bomboniere" />
        </div>
        <div class="row">
          <input id="eventDate" placeholder="Data evento (es: 10/06/2026)" />
          <input id="eventTheme" placeholder="Tema (es: rose, luna, ecc.)" />
        </div>

        <div class="sectionTitle">Dati cliente (facoltativi)</div>
        <div class="row">
          <input id="designerName" placeholder="Nome cliente" />
        </div>
        <textarea id="designerNotes" rows="3" placeholder="Note (es: colori, preferenze, frasi, ecc.)"></textarea>

        <div class="priceBox">
          <div><b>Extra configurazione:</b> <span id="dreamPrice">â‚¬ 0,00</span></div>
          <div class="hint" id="designerHint"></div>
        </div>

        <div class="modalActions">
          <button class="btn big" id="btnSaveDream">ğŸ’¾ Salva progetto</button>
          <button class="btn big" id="btnMyDreams">ğŸ“ I miei progetti</button>
          <button class="btn big" id="btnDownloadDesign">â¬‡ï¸ Scarica immagine</button>
          <button class="btn big primary" id="btnSendDesign">ğŸ“² Invia su WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MY DREAMS -->
  <div id="myDreamsBackdrop" class="backdrop hidden"></div>
  <div id="myDreamsModal" class="modal small hidden">
    <div class="modalHead">
      <div class="modalTitle">ğŸ“ I miei progetti</div>
      <button class="btn pill" id="btnCloseMyDreams">Chiudi</button>
    </div>
    <div class="modalBody">
      <div id="myDreamsList"></div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./service-worker.js").catch(()=>{});
    }
  </script>
</body>
</html>
