<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acchiappasogni di Erika</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#7c5cff">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">✨</div>
      <div>
        <div id="brandName" class="brand-title">Acchiappasogni di Erika</div>
        <div class="brand-sub">Catalogo • Ordina su WhatsApp</div>
      </div>
    </div>

    <div class="actions">
      <button id="btnCustom" class="btn ghost">Personalizzato</button>
      <button id="btnCart" class="btn">Carrello <span id="cartCount" class="badge">0</span></button>
    </div>
  </header>

  <main class="container">
    <section class="search">
      <input id="search" type="search" placeholder="Cerca (nome o descrizione)..." autocomplete="off" />
    </section>

    <section class="tabs-wrap">
      <div id="tabs" class="tabs"></div>
    </section>

    <section id="grid" class="grid" aria-live="polite"></section>
  </main>

  <div id="drawerBackdrop" class="backdrop hidden"></div>

  <aside id="drawer" class="drawer hidden" aria-hidden="true">
    <div class="drawer-header">
      <div class="drawer-title">Carrello</div>
      <button id="btnCloseCart" class="btn ghost">Chiudi</button>
    </div>

    <div id="cartItems" class="cart-items"></div>

    <div class="totals">
      <div class="row"><span>Subtotale</span><span id="subtotal">€ 0,00</span></div>
      <div class="row"><span>Spedizione</span><span id="shipping">€ 0,00</span></div>
      <div class="row total"><span>Totale</span><span id="total">€ 0,00</span></div>
      <div class="hint" id="shippingHint"></div>
    </div>

    <div class="checkout">
      <div class="section-title">Dati ordine</div>

      <label class="field">
        <span>Nome e cognome</span>
        <input id="name" type="text" placeholder="Es. Mario Rossi" />
      </label>

      <div class="radios">
        <label><input type="radio" name="delivery" value="shipping" checked /> Spedizione</label>
        <label><input type="radio" name="delivery" value="pickup" /> Ritiro / consegna a mano</label>
      </div>

      <div id="shippingFields">
        <label class="field">
          <span>Via / indirizzo</span>
          <input id="street" type="text" placeholder="Via..." />
        </label>

        <div class="two">
          <label class="field">
            <span>CAP</span>
            <input id="cap" type="text" inputmode="numeric" placeholder="090..." />
          </label>

          <label class="field">
            <span>Città</span>
            <input id="city" type="text" placeholder="Città..." />
          </label>
        </div>
      </div>

      <label class="field">
        <span>Note (colore, personalizzazione, ecc.)</span>
        <textarea id="notes" rows="3" placeholder="Scrivi qui..."></textarea>
      </label>

      <button id="btnSend" class="btn primary">Invia ordine su WhatsApp</button>
      <button id="btnClear" class="btn danger">Annulla ordine (svuota carrello)</button>

      <p class="small">
        Pagamento e spedizione vengono gestiti fuori dal sito. Riceverai conferma su WhatsApp.
      </p>
    </div>
  </aside>

  <script src="app.js"></script>

  <!-- Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./service-worker.js");
    }
  </script>
</body>
</html>
